return {
  "williamboman/mason.nvim",
  priority = 1000, -- WysokÐ¸Ð¹ priorytet - Å‚aduje siÄ™ jako pierwszy
  dependencies = {
    -- "williamboman/mason-lspconfig.nvim", -- USUNIÄ˜TE - powoduje problemy z setup_handlers
    "WhoIsSethDaniel/mason-tool-installer.nvim", -- automatyczna instalacja narzÄ™dzi
  },
  config = function()
    -- import mason
    local mason = require("mason")

    -- import mason-tool-installer
    local mason_tool_installer = require("mason-tool-installer")

    -- enable mason and configure icons
    mason.setup({
      ui = {
        icons = {
          package_installed = "âœ“",
          package_pending = "âžœ",
          package_uninstalled = "âœ—",
        },
      },
    })

    -- USUNIÄ˜TO mason-lspconfig.setup() - powodowaÅ‚o problemy z setup_handlers
    -- LSP serwery sÄ… teraz konfigurowane bezpoÅ›rednio w lspconfig.lua
    -- Mason configured silently (direct LSP setup - no mason-lspconfig)

    -- instalacja dodatkowych narzÄ™dzi (formattery, lintery itp.)
    mason_tool_installer.setup({
      ensure_installed = {
        -- ðŸš¨ PODSTAWOWE SERWERY LSP - TYLKO DOSTÄ˜PNE PAKIETY!
        "lua-language-server", -- Lua LSP âœ…
        "pyright",             -- Python LSP âœ…
        "clangd",              -- C/C++ LSP âœ…
        "json-lsp",            -- JSON LSP âœ…
        "yaml-language-server", -- YAML LSP âœ…
        "tailwindcss-language-server", -- Tailwind CSS LSP âœ…
        
        -- Python tools (Ruff-first)
        "mypy",      -- type checker âœ…
        "ruff",      -- fast linter/formatter âœ…
        "ruff-lsp",  -- Ruff LSP âœ…
        "debugpy",   -- Python debugger âœ…
        
        -- JavaScript/TypeScript tools
        "prettier",   -- formatter âœ…
        "eslint-lsp", -- ESLint language server âœ…
        
        -- Go tools
        "gofumpt",   -- formatter âœ…
        "golangci-lint", -- linter âœ…
        "golines",   -- line length formatter âœ…
        "gotests",   -- generate Go tests âœ…
        "impl",      -- generate Go interface implementations âœ…
        "delve",     -- Go debugger âœ…
        
        -- Lua tools
        "stylua",    -- formatter âœ…
        
        -- C/C++ tools (dla MQL5)
        "clang-format", -- formatter dla C/C++/MQL5 âœ…
        "cpptools",     -- C/C++ debugger âœ…
        "codelldb",     -- LLDB debugger dla C/C++ âœ…
        
        -- Java tools
        "java-debug-adapter", -- Java debugger âœ…
        "java-test",         -- Java test runner âœ…
        "google-java-format", -- Java formatter âœ…
        
        -- Rust tools
        "rustfmt",           -- Rust formatter âœ…
        "rust-analyzer",     -- Rust language server (backup) âœ…
        
        -- Podstawowe narzÄ™dzia
        "shellcheck", -- shell linter âœ…
      },
      auto_update = false,
      run_on_start = true,
    })
  end,
}